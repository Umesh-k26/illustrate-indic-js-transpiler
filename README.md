**Case study on generating JS Transpiler based on custom lipi/keywords/texts & AST generation**

The idea here is we show how one can generate JS parser / AST for the custom keywords or lipi or text of your choice. Here we extend the JavaScript grammar with our own lexfile that has lipi/texts/keywords of our own choice. The grammar shipped here covers the whole JS grammar (jscore.jison). The current shipped code generates the **AST (Abstract Syntax Tree)**. However the **AST** generation is only for few constructs (blocks, variable, const, function expression, if, iteration, continue break, return). If you which you could extend the same for other constructs as well.

**Why Jison  ?**
 - Better code maintenance since the parser is generated by the Jison Library
 - Better performance
 - Time to generate the parser is quick (Since its generated by Jison library).

**Reference:**
 - [JS parser generator](https://github.com/zaach/jison)
 - [Well known JS Libraries to generate JS based Parsers based on the grammar](https://tomassetti.me/parsing-in-javascript/)
 - [TypeScript based Parser](https://github.com/basarat/demo-compiler)
 - [AST Explorer](https://astexplorer.net/)
 - [Vedic/Sanskrit JS based programming language](https://vedic-lang.github.io/)
-  [OMLang](https://omlang.com/)

Installation
------------
Jison can be installed for [Node](http://nodejs.org) using [`npm`](http://github.com/isaacs/npm/)

Using npm:

    npm install jison -g

JS Transpile based our own lipi/text/keywords
----------------------------------------------
 1. Clone the github repository for examples:
```
a) git clone https://github.com/Umesh-k26/indic-js-transpiler.git
b) cd indic-js-transpiler
```
1.1 Transpile Steps

If you wish to include your on set of keywords/lipi.
under languages create a new file by coping the content from hindi.js. Replace the keywords to your own custom keywords. Also name the new file reflecting the lipi or the language.

```
node index.js -f <input file> -l <language>
eg: node index.js -f sample.js -l hindi

The output of the above command would generates a regular JS file (output_sample.js)
```

```
Usage:
-f : input file name
-o : output file name
-l : language
-a : to print ast or not
```

Generate AST
-------------
 2. Generate AST for the (sample) javascript. ***Refer:*** src/examples/ for the sample lex files (*.l).

```
node index.js -f <input file> -l <language> -a
eg: node index.js -f sample.js -l hindi -a
```

```
The output of the above command would generate Abstract Syntax Tree (AST). Eg:

[["varStmt",[{"identifier":"j","value":1}]],["varStmt",[{"identifier":"i","value":0}]],["iterStmt",{"type":"for_var","init":[{"identifier":"i","value":1}],"update":[{"type":"relational_exp","left":"i","right":20,"operator":"<"}],"test":[{"type":"post_fix_exp","left":"i","right":null,"operator":"++"}],"body":["blockStmt",[[
"exprStmt",[{"type":"call_exp","left":"वद्","right":["arguments",[{"type":"logical_exp","left":2,"right":2,"operator":"+"}]],"operator":null}]],["varStmt",[{"identifier":"j","value":0}]],["exprStmt",[{"type":"call_exp","left":"वद्","right":["arguments",["j"]],"operator":null}]]]]}]]
```


Generate Parser for the JS grammar
----------------------------------

 1. Generate AST for the javascript. ***Refer:*** src/examples/ for the sample lex files (*.l).

```
Usage: jison [file] [lexfile] [options]

file        file containing a grammar
lexfile     file containing a lexical grammar

eg: jison jscore.jison hindi.l -o parser.js
```